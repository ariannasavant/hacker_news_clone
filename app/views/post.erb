<% if @post.id %>
<h2>Edit Post</h2>
<% else %>
<h2>Create a New Post</h2>
<% end %>

<% if @post.errors %>
<ul class="error">
<% @post.errors.full_messages.each do |message| %>
  <li><%= message %></li>  
<% end %>
</ul>
<% end %>

<% if @post.id %>
<form action="/posts/<%= @post.id %>" method="post">
  <input type="hidden" name="_method" value="put"><%# rack middleware hack -- google it %>
<% else %>
<form action="/posts" method="post">
<% end %>
  <input type="text" name="title" placeholder="post title" value="<%= @post.title %>"><br>
  <input type="text" name="url" placeholder="post url" value="<%= @post.url %>"><br>
  <input type="submit" value="Submit Post">
</form>
